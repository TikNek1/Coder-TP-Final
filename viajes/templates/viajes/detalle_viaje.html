{% extends 'base.html' %}

{% block content %}
<div class="card mt-4">
    <div class="card-body">
        <h2 class="card-title">Detalles del Viaje</h2>
        <p><strong>Nombre:</strong> {{ viaje.nombre }}</p>
        <p><strong>Descripción:</strong> {{ viaje.detalle|safe }}</p>
        <p><strong>Fecha de salida:</strong> {{ viaje.fecha_salida }}</p>
        <p><strong>Cantidad de días:</strong> {{ viaje.cant_dias }}</p>
        <p><strong>Kilómetros:</strong> {{ viaje.km }}</p>
        <p><strong>Dificultad:</strong> {{ viaje.get_dificultad_display }}</p>
        <p><strong>Guía:</strong> {{ viaje.guia }}</p>
        <p><strong>Activo:</strong> {{ viaje.activo|yesno:"Sí,No" }}</p>
        <p><strong>Máximo de pilotos:</strong> {{ viaje.max_pilotos }}</p>

        <h5 class="mt-3">Pilotos:</h5>
        <ul class="list-group">
            {% for piloto in viaje.pilotos.all %}
                <li class="list-group-item">{{ piloto.nombre }} {{ piloto.apellido }}</li>
            {% empty %}
                <li class="list-group-item text-muted">No hay pilotos inscriptos</li>
            {% endfor %}
        </ul>

        {% if puede_editar %}
            <a href="{% url 'editar_viaje' viaje.id %}" class="btn btn-warning mt-3">Editar</a>
            <a href="{% url 'eliminar_viaje' viaje.pk %}" class="btn btn-danger mt-3">Eliminar</a>
        {% endif %}

        <a href="{% url 'listar_viajes' %}" class="btn btn-primary mt-3">Volver a la lista</a>
    </div>
</div>
{% endblock %}